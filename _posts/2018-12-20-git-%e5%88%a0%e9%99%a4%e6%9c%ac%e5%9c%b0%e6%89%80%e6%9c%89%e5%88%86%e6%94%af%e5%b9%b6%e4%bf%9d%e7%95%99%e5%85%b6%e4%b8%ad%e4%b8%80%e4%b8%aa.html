---
layout: post
title: 'Git: 删除本地所有分支并保留其中一个'
date: 2018-12-20 08:57:54.000000000 +08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- git
- programming
tags:
- branch
- coding
- git
meta:
  _edit_last: '1'
author:
  login: hank
  email: yrstyh@gmail.com
  display_name: hank
  first_name: ''
  last_name: ''
permalink: "/git-%e5%88%a0%e9%99%a4%e6%9c%ac%e5%9c%b0%e6%89%80%e6%9c%89%e5%88%86%e6%94%af%e5%b9%b6%e4%bf%9d%e7%95%99%e5%85%b6%e4%b8%ad%e4%b8%80%e4%b8%aa/"
---
<p><!-- wp:paragraph --></p>
<p>本地分支多了想删掉一些。(下面所有的命令中运行时均需要把 <code>BRANCH_NAME</code>  换成自己要操作的分支的名字)</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>常用的命令是</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>git branch -D `BRANCH_NAME`</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>可是这样只能一个个删除。批量删除并保留一个分支，比如 <code>master</code>  分支的命令可以用下面这条命令：</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>git branch | grep -v "BRANCH_NAME" | xargs git branch -D </code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>如果你要经常这么做的话，还可以给这条命令添加个短名：</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>alias gdbm="git branch | grep -v "BRANCH_NAME" | xargs git branch -D"</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>如果要保留多个分支，可以在足命令中添加多个分支的名字：<code>master\|develop\|test_branch。</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>上面的命令就变成：</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>git branch | grep -v "master\|develop\|test_branch" | xargs git branch -D </code></pre>
<p><!-- /wp:code --></p>
